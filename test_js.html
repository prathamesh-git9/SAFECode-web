<!DOCTYPE html>
<html>

<head>
    <title>JavaScript Test</title>
</head>

<body>
    <h1>JavaScript Function Test</h1>

    <textarea id="code" style="width: 100%; height: 200px;">#include <stdio.h>
int main() {
    char buffer[10];
    strcpy(buffer, "overflow");
    return 0;
}</textarea>

    <br><br>
    <button onclick="testScan()">Test Scan Function</button>
    <button onclick="testClear()">Test Clear Function</button>
    <button onclick="testFix()">Test Fix Function</button>

    <div id="results"></div>

    <script>
        function testScan() {
            console.log('ğŸ” Testing scan function...');
            const code = document.getElementById('code').value;
            console.log('ğŸ“ Code:', code);
            document.getElementById('results').innerHTML = 'Scan function called! Code length: ' + code.length;
        }

        function testClear() {
            console.log('ğŸ—‘ï¸ Testing clear function...');
            document.getElementById('code').value = '';
            document.getElementById('results').innerHTML = 'Clear function called!';
        }

        function testFix() {
            console.log('ğŸ”§ Testing fix function...');
            document.getElementById('results').innerHTML = 'Fix function called!';
        }

        // Test regex patterns
        function testRegex() {
            console.log('ğŸ§ª Testing regex patterns...');

            const testDetails = 'CWE: CWE-120\nLine: 5';
            console.log('Test details:', testDetails);

            const cweMatch = testDetails.match(/CWE: ([^\n]+)/);
            console.log('CWE match:', cweMatch);

            const lineMatch = testDetails.match(/Line: ([0-9]+)/);
            console.log('Line match:', lineMatch);
        }

        // Run tests on page load
        window.onload = function () {
            console.log('ğŸš€ Page loaded, running tests...');
            testRegex();
        };
    </script>
</body>

</html>
